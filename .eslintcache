[{"C:\\codetemp\\babynames\\frontend\\babynames\\src\\index.js":"1","C:\\codetemp\\babynames\\frontend\\babynames\\src\\App.js":"2","C:\\codetemp\\babynames\\frontend\\babynames\\src\\reportWebVitals.js":"3","C:\\codetemp\\babynames\\frontend\\babynames\\src\\utils\\debounce.js":"4","C:\\codetemp\\babynames\\frontend\\babynames\\src\\hooks\\useDebounce.js":"5","C:\\codetemp\\babynames\\frontend\\babynames\\src\\hooks\\useFetchNames.js":"6","C:\\codetemp\\babynames\\frontend\\babynames\\src\\themes\\DefaultTheme.ts":"7","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\container\\Container.tsx":"8","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\input\\Input.tsx":"9","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\container\\Container.styles.tsx":"10","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\input\\Input.styled.tsx":"11","C:\\codetemp\\babynames\\frontend\\babynames\\src\\themes\\GlobalStyle.ts":"12","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\list\\List.tsx":"13","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\list\\List.styles.tsx":"14","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\divider\\Divider.tsx":"15","C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\divider\\Divider.styles.tsx":"16"},{"size":502,"mtime":1610363582227,"results":"17","hashOfConfig":"18"},{"size":3332,"mtime":1613381262901,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"18"},{"size":0,"mtime":1610461834227,"results":"21","hashOfConfig":"22"},{"size":1299,"mtime":1610628231109,"results":"23","hashOfConfig":"18"},{"size":3511,"mtime":1612558783629,"results":"24","hashOfConfig":"18"},{"size":526,"mtime":1612878428364,"results":"25","hashOfConfig":"18"},{"size":409,"mtime":1613333863146,"results":"26","hashOfConfig":"18"},{"size":1463,"mtime":1612947106786,"results":"27","hashOfConfig":"18"},{"size":1778,"mtime":1613334718484,"results":"28","hashOfConfig":"18"},{"size":2856,"mtime":1612946810576,"results":"29","hashOfConfig":"18"},{"size":508,"mtime":1612878301725,"results":"30","hashOfConfig":"18"},{"size":251,"mtime":1613333601335,"results":"31","hashOfConfig":"18"},{"size":762,"mtime":1613331357472,"results":"32","hashOfConfig":"18"},{"size":314,"mtime":1612955042902,"results":"33","hashOfConfig":"18"},{"size":1321,"mtime":1613331640771,"results":"34","hashOfConfig":"18"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"1e1r50m",{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"ke7wyl",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"37"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"C:\\codetemp\\babynames\\frontend\\babynames\\src\\index.js",[],["71","72"],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\App.js",["73"],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\reportWebVitals.js",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\utils\\debounce.js",[],["74","75"],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\hooks\\useDebounce.js",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\hooks\\useFetchNames.js",["76","77"],"import {useState, useEffect, useRef} from 'react'\r\n\r\n\r\nexport const useFetchNames = (debouncedSearchTerm, inView, limit, initialController, additionalController ) => {\r\n    const [data, setData] = useState([]);\r\n    const [total, setTotal] = useState(\"\")\r\n    const [remaining, setRemaining] = useState(\"\")\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const firstUpdate = useRef(true);\r\n\r\n    // GENERAL FETCH API DATA\r\n    const getData = async (queryString, controller) => {\r\n        console.log('Getting data') \r\n        try {\r\n        setIsLoading(true)\r\n        const response = await fetch(`http://localhost:5000/names?limit=${limit}${queryString}`,{signal: controller.signal});\r\n        const responseData = await response.json();\r\n        return responseData\r\n        }\r\n        catch (err) {\r\n            if (err.name === 'AbortError') { // handle abort()\r\n                console.error(err);\r\n                return []\r\n            } \r\n            else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //FETCHING ADDITIONAL DATA ON SCROLL\r\n    useEffect(() => {\r\n        console.log(\"inView: \", inView)\r\n        additionalController.current = new AbortController(); \r\n        \r\n        if (!inView && !firstUpdate.current && !isLoading && remaining > 0) {\r\n            // if user has scrolled passed ref\r\n            // it is not the first fetch request\r\n            // data is not being loaded already\r\n            // data remains\r\n        \r\n            const fetchAdditionalData = async () => {\r\n\r\n                const queryString = debouncedSearchTerm ? `&startId=${data[data.length-1]._id}&search=${debouncedSearchTerm}` : `&startId=${data[data.length-1]._id}`;\r\n                 // if there is a search term include it in query\r\n\r\n                const additionalData = await getData(queryString, additionalController.current)\r\n                additionalData.names ? setData([...data, ...additionalData.names]) : setData(data);\r\n                additionalData.total ? setRemaining(additionalData.total-additionalData.names.length) : setRemaining(remaining);\r\n                setIsLoading(false)\r\n            \r\n            };\r\n\r\n            fetchAdditionalData();\r\n\r\n        }\r\n\r\n        return () => {\r\n            additionalController.current.abort();\r\n        }\r\n    \r\n    }, [inView]);\r\n\r\n\r\n    //FETCHING INITIAL DATA ON FIRST RENDER OR SEARCH\r\n    useEffect(() => {\r\n\r\n        firstUpdate.current = false;\r\n        initialController.current = new AbortController(); \r\n\r\n        const fetchInitialData = async () => {\r\n            \r\n            const queryString = \r\n            debouncedSearchTerm ? `&search=${debouncedSearchTerm}` \r\n            : '';\r\n            // if there is a search term include it in query\r\n\r\n            const initialData = await getData(queryString, initialController.current)\r\n            initialData && window.scrollTo(0, 0);\r\n            initialData.names ? setData(initialData.names) : setData([]) ;\r\n            initialData.total ? setTotal(initialData.total) : setTotal(\"0\");\r\n            initialData.total ? setRemaining(initialData.total-initialData.names.length) : setRemaining(\"0\");\r\n            setIsLoading(false);\r\n        \r\n        };\r\n\r\n        fetchInitialData();\r\n\r\n\r\n        return () => {\r\n            initialController.current.abort();\r\n            additionalController.current.abort();\r\n        }\r\n        \r\n    }, [debouncedSearchTerm]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return {data, total, remaining, isLoading}\r\n}","C:\\codetemp\\babynames\\frontend\\babynames\\src\\themes\\DefaultTheme.ts",[],["78","79"],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\container\\Container.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\input\\Input.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\container\\Container.styles.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\input\\Input.styled.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\themes\\GlobalStyle.ts",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\list\\List.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\list\\List.styles.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\divider\\Divider.tsx",[],"C:\\codetemp\\babynames\\frontend\\babynames\\src\\components\\divider\\Divider.styles.tsx",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":8,"column":9,"nodeType":"86","messageId":"87","endLine":8,"endColumn":16},{"ruleId":"80","replacedBy":"88"},{"ruleId":"82","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":64,"column":8,"nodeType":"92","endLine":64,"endColumn":16,"suggestions":"93"},{"ruleId":"90","severity":1,"message":"94","line":97,"column":8,"nodeType":"92","endLine":97,"endColumn":29,"suggestions":"95"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'Divider' is defined but never used.","Identifier","unusedVar",["96"],["97"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'additionalController', 'data', 'debouncedSearchTerm', 'getData', 'isLoading', and 'remaining'. Either include them or remove the dependency array. You can also do a functional update 'setRemaining(r => ...)' if you only need 'remaining' in the 'setRemaining' call.","ArrayExpression",["98"],"React Hook useEffect has missing dependencies: 'additionalController', 'getData', and 'initialController'. Either include them or remove the dependency array.",["99"],"no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [additionalController, data, debouncedSearchTerm, getData, inView, isLoading, remaining]",{"range":"104","text":"105"},"Update the dependencies array to be: [additionalController, debouncedSearchTerm, getData, initialController]",{"range":"106","text":"107"},[2335,2343],"[additionalController, data, debouncedSearchTerm, getData, inView, isLoading, remaining]",[3425,3446],"[additionalController, debouncedSearchTerm, getData, initialController]"]